<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>React Babel Coffee</title>
		<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
		<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
		<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
	</head>
	<body>
		<div id="root">Loading...</div>

		<script type="text/babel">
			const { useState, useEffect } = React;
			const Coffee = ({ drinks }) => {
				return (
					<div>
						<ul>
							{drinks.map((drink, index) => (
								<li key={index}>{drink}</li>
							))}
						</ul>
					</div>
				);
			};

			const Main = () => {
				const [drinks, setDrinks] = useState([
					"espresso",
					"cappuccino",
					"latte",
				]);

				const addDrink = () => {
					const newDrink = prompt("Enter a new drink: ");
					if (newDrink) setDrinks([...drinks, newDrink]);
				};

                useEffect(() =>(
                    localStorage.setItem("drinks", [...drinks])
                ), [drinks])

				return (
					<div>
						<h1>Variations of coffee</h1>
						<Coffee drinks={drinks} />
						<button onClick={addDrink}>Add drink</button>
					</div>
				);
			};

			const container = document.getElementById("root");
			const root = ReactDOM.createRoot(container);
			root.render(<Main />);
		</script>
	</body>
</html>
